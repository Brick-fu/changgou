<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.changgou.order.dao.TbReturnOrderDao">

    <resultMap type="com.changgou.order.pojo.TbReturnOrder" id="TbReturnOrderMap">
        <result property="id" column="id" jdbcType="INTEGER"/>
        <result property="orderId" column="order_id" jdbcType="INTEGER"/>
        <result property="applyTime" column="apply_time" jdbcType="TIMESTAMP"/>
        <result property="userId" column="user_id" jdbcType="INTEGER"/>
        <result property="userAccount" column="user_account" jdbcType="VARCHAR"/>
        <result property="linkman" column="linkman" jdbcType="VARCHAR"/>
        <result property="linkmanMobile" column="linkman_mobile" jdbcType="VARCHAR"/>
        <result property="type" column="type" jdbcType="VARCHAR"/>
        <result property="returnMoney" column="return_money" jdbcType="INTEGER"/>
        <result property="isReturnFreight" column="is_return_freight" jdbcType="VARCHAR"/>
        <result property="status" column="status" jdbcType="VARCHAR"/>
        <result property="disposeTime" column="dispose_time" jdbcType="TIMESTAMP"/>
        <result property="returnCause" column="return_cause" jdbcType="INTEGER"/>
        <result property="evidence" column="evidence" jdbcType="VARCHAR"/>
        <result property="description" column="description" jdbcType="VARCHAR"/>
        <result property="remark" column="remark" jdbcType="VARCHAR"/>
        <result property="adminId" column="admin_id" jdbcType="INTEGER"/>
    </resultMap>

    <!--查询单个-->
    <select id="queryById" resultMap="TbReturnOrderMap">
        select
          id, order_id, apply_time, user_id, user_account, linkman, linkman_mobile, type, return_money, is_return_freight, status, dispose_time, return_cause, evidence, description, remark, admin_id
        from tb_return_order
        where id = #{id}
    </select>

    <!--查询指定行数据-->
    <select id="queryAllByLimit" resultMap="TbReturnOrderMap">
        select
          id, order_id, apply_time, user_id, user_account, linkman, linkman_mobile, type, return_money, is_return_freight, status, dispose_time, return_cause, evidence, description, remark, admin_id
        from tb_return_order
        <where>
            <if test="id != null">
                and id = #{id}
            </if>
            <if test="orderId != null">
                and order_id = #{orderId}
            </if>
            <if test="applyTime != null">
                and apply_time = #{applyTime}
            </if>
            <if test="userId != null">
                and user_id = #{userId}
            </if>
            <if test="userAccount != null and userAccount != ''">
                and user_account = #{userAccount}
            </if>
            <if test="linkman != null and linkman != ''">
                and linkman = #{linkman}
            </if>
            <if test="linkmanMobile != null and linkmanMobile != ''">
                and linkman_mobile = #{linkmanMobile}
            </if>
            <if test="type != null and type != ''">
                and type = #{type}
            </if>
            <if test="returnMoney != null">
                and return_money = #{returnMoney}
            </if>
            <if test="isReturnFreight != null and isReturnFreight != ''">
                and is_return_freight = #{isReturnFreight}
            </if>
            <if test="status != null and status != ''">
                and status = #{status}
            </if>
            <if test="disposeTime != null">
                and dispose_time = #{disposeTime}
            </if>
            <if test="returnCause != null">
                and return_cause = #{returnCause}
            </if>
            <if test="evidence != null and evidence != ''">
                and evidence = #{evidence}
            </if>
            <if test="description != null and description != ''">
                and description = #{description}
            </if>
            <if test="remark != null and remark != ''">
                and remark = #{remark}
            </if>
            <if test="adminId != null">
                and admin_id = #{adminId}
            </if>
        </where>
        limit #{pageable.offset}, #{pageable.pageSize}
    </select>

    <!--统计总行数-->
    <select id="count" resultType="java.lang.Long">
        select count(1)
        from tb_return_order
        <where>
            <if test="id != null">
                and id = #{id}
            </if>
            <if test="orderId != null">
                and order_id = #{orderId}
            </if>
            <if test="applyTime != null">
                and apply_time = #{applyTime}
            </if>
            <if test="userId != null">
                and user_id = #{userId}
            </if>
            <if test="userAccount != null and userAccount != ''">
                and user_account = #{userAccount}
            </if>
            <if test="linkman != null and linkman != ''">
                and linkman = #{linkman}
            </if>
            <if test="linkmanMobile != null and linkmanMobile != ''">
                and linkman_mobile = #{linkmanMobile}
            </if>
            <if test="type != null and type != ''">
                and type = #{type}
            </if>
            <if test="returnMoney != null">
                and return_money = #{returnMoney}
            </if>
            <if test="isReturnFreight != null and isReturnFreight != ''">
                and is_return_freight = #{isReturnFreight}
            </if>
            <if test="status != null and status != ''">
                and status = #{status}
            </if>
            <if test="disposeTime != null">
                and dispose_time = #{disposeTime}
            </if>
            <if test="returnCause != null">
                and return_cause = #{returnCause}
            </if>
            <if test="evidence != null and evidence != ''">
                and evidence = #{evidence}
            </if>
            <if test="description != null and description != ''">
                and description = #{description}
            </if>
            <if test="remark != null and remark != ''">
                and remark = #{remark}
            </if>
            <if test="adminId != null">
                and admin_id = #{adminId}
            </if>
        </where>
    </select>

    <!--新增所有列-->
    <insert id="insert" keyProperty="id" useGeneratedKeys="true">
        insert into tb_return_order(order_id, apply_time, user_id, user_account, linkman, linkman_mobile, type, return_money, is_return_freight, status, dispose_time, return_cause, evidence, description, remark, admin_id)
        values (#{orderId}, #{applyTime}, #{userId}, #{userAccount}, #{linkman}, #{linkmanMobile}, #{type}, #{returnMoney}, #{isReturnFreight}, #{status}, #{disposeTime}, #{returnCause}, #{evidence}, #{description}, #{remark}, #{adminId})
    </insert>

    <insert id="insertBatch" keyProperty="id" useGeneratedKeys="true">
        insert into tb_return_order(order_id, apply_time, user_id, user_account, linkman, linkman_mobile, type, return_money, is_return_freight, status, dispose_time, return_cause, evidence, description, remark, admin_id)
        values
        <foreach collection="entities" item="entity" separator=",">
        (#{entity.orderId}, #{entity.applyTime}, #{entity.userId}, #{entity.userAccount}, #{entity.linkman}, #{entity.linkmanMobile}, #{entity.type}, #{entity.returnMoney}, #{entity.isReturnFreight}, #{entity.status}, #{entity.disposeTime}, #{entity.returnCause}, #{entity.evidence}, #{entity.description}, #{entity.remark}, #{entity.adminId})
        </foreach>
    </insert>

    <insert id="insertOrUpdateBatch" keyProperty="id" useGeneratedKeys="true">
        insert into tb_return_order(order_id, apply_time, user_id, user_account, linkman, linkman_mobile, type, return_money, is_return_freight, status, dispose_time, return_cause, evidence, description, remark, admin_id)
        values
        <foreach collection="entities" item="entity" separator=",">
            (#{entity.orderId}, #{entity.applyTime}, #{entity.userId}, #{entity.userAccount}, #{entity.linkman}, #{entity.linkmanMobile}, #{entity.type}, #{entity.returnMoney}, #{entity.isReturnFreight}, #{entity.status}, #{entity.disposeTime}, #{entity.returnCause}, #{entity.evidence}, #{entity.description}, #{entity.remark}, #{entity.adminId})
        </foreach>
        on duplicate key update
        order_id = values(order_id),
        apply_time = values(apply_time),
        user_id = values(user_id),
        user_account = values(user_account),
        linkman = values(linkman),
        linkman_mobile = values(linkman_mobile),
        type = values(type),
        return_money = values(return_money),
        is_return_freight = values(is_return_freight),
        status = values(status),
        dispose_time = values(dispose_time),
        return_cause = values(return_cause),
        evidence = values(evidence),
        description = values(description),
        remark = values(remark),
        admin_id = values(admin_id)
    </insert>

    <!--通过主键修改数据-->
    <update id="update">
        update tb_return_order
        <set>
            <if test="orderId != null">
                order_id = #{orderId},
            </if>
            <if test="applyTime != null">
                apply_time = #{applyTime},
            </if>
            <if test="userId != null">
                user_id = #{userId},
            </if>
            <if test="userAccount != null and userAccount != ''">
                user_account = #{userAccount},
            </if>
            <if test="linkman != null and linkman != ''">
                linkman = #{linkman},
            </if>
            <if test="linkmanMobile != null and linkmanMobile != ''">
                linkman_mobile = #{linkmanMobile},
            </if>
            <if test="type != null and type != ''">
                type = #{type},
            </if>
            <if test="returnMoney != null">
                return_money = #{returnMoney},
            </if>
            <if test="isReturnFreight != null and isReturnFreight != ''">
                is_return_freight = #{isReturnFreight},
            </if>
            <if test="status != null and status != ''">
                status = #{status},
            </if>
            <if test="disposeTime != null">
                dispose_time = #{disposeTime},
            </if>
            <if test="returnCause != null">
                return_cause = #{returnCause},
            </if>
            <if test="evidence != null and evidence != ''">
                evidence = #{evidence},
            </if>
            <if test="description != null and description != ''">
                description = #{description},
            </if>
            <if test="remark != null and remark != ''">
                remark = #{remark},
            </if>
            <if test="adminId != null">
                admin_id = #{adminId},
            </if>
        </set>
        where id = #{id}
    </update>

    <!--通过主键删除-->
    <delete id="deleteById">
        delete from tb_return_order where id = #{id}
    </delete>

</mapper>

